# Test: JobRun references a non-existent templateRef
---
apiVersion: chainsaw.kyverno.io/v1alpha1
kind: Test
metadata:
  name: jobrun-nonexistent-templateref
spec:
  steps:
    - try:
        - apply:
            resource:
              apiVersion: hematoscope.app/v1
              kind: JobRun
              metadata:
                name: missing-template
                namespace: job-template-run
              spec:
                templateRef: does-not-exist
        - assert:
            resource:
              apiVersion: hematoscope.app/v1
              kind: JobRun
              metadata:
                name: missing-template
                namespace: job-template-run
              status:
                failed: 1
